(function(a){a.fn.pageSlide=function(b){function g(b){if(a("#pageslide-body-wrap, #pageslide-content, #pageslide-slide-wrap").size()==0){var g=document.createElement("div");a(g).css(e),a(g).attr("id","pageslide-body-wrap").width(a("body").width()),a("body").contents().wrapAll(g);var h=document.createElement("div");a(h).attr("id","pageslide-content").width(c.width);var j=document.createElement("div");a(j).css(d),a(j).attr("id","pageslide-slide-wrap").append(h),a("body").append(j)}if(a("#pageslide-blanket").size()==0&&c.modal==1){var k=document.createElement("div");a(k).css(f),a(k).attr("id","pageslide-blanket"),a("body").append(k),a("#pageslide-blanket").click(function(){return!1})}a("#pageslide-slide-wrap").click(function(){return!1}),c.modal!=1&&a(document).unbind("click").click(function(a){return i(a),!1}),a(window).resize(function(){a("#pageslide-body-wrap").width(a("body").width())})}function h(b){j(),c.start(),c.direction=="right"?(direction={right:"-"+c.width},a("#pageslide-slide-wrap").css({left:0}),l()):(direction={left:"-"+c.width},a("#pageslide-slide-wrap").css({right:0})),a("#pageslide-slide-wrap").animate({width:c.width},c.duration),a("#pageslide-body-wrap").animate(direction,c.duration,function(){c.stop(),a.ajax({type:"GET",url:a(b).attr("href"),success:function(b){a("#pageslide-content").html(b).queue(function(){a(this).dequeue(),a("#pageslide-slide-wrap a").unbind("click").click(function(a){document.location.href=a.target.href}),a(this).find(".pageslide-close").unbind("click").click(function(b){i(b),a(this).find("pageslide-close").unbind("click")}),c.complete()})}})})}function i(b){a(b)[0].button!=2&&a("#pageslide-slide-wrap").css("width")!="0px"&&(k(),c.start(),direction=a("#pageslide-slide-wrap").css("left")!="0px"?{left:"0"}:{right:"0"},a("#pageslide-body-wrap").animate(direction,c.duration),a("#pageslide-slide-wrap").animate({width:"0"},c.duration,function(){a("#pageslide-content").empty(),a("#pageslide-body-wrap, #pageslide-slide-wrap").css("left",""),a("#pageslide-body-wrap, #pageslide-slide-wrap").css("right",""),m(),c.stop(),c.complete()}))}function j(){c.modal==1&&a("#pageslide-blanket").toggle().animate({opacity:"0.8"},"fast","linear")}function k(){c.modal==1&&a("#pageslide-blanket").animate({opacity:"0.0"},"fast","linear",function(){a(this).toggle()})}function l(){a.browser.msie?a("body, html").css({overflowX:"hidden"}):a("body").css({overflowX:"hidden"})}function m(){a.browser.msie?a("body, html").css({overflowX:""}):a("body").css({overflowX:""})}var c=a.extend({width:"300px",duration:"normal",direction:"left",modal:!1,start:function(){},stop:function(){},complete:function(){}},b),d={position:"fixed",width:"0",top:"0",height:"100%",zIndex:"999"},e={position:"relative",zIndex:"0"},f={position:"absolute",top:"0px",left:"0px",height:"100%",width:"100%",opacity:"0.0",backgroundColor:"black",zIndex:"1",display:"none"};return g(this),this.each(function(){a(this).unbind("click").bind("click",function(){return h(this),!1})})}})(jQuery)